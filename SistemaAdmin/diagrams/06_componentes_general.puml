@startuml Componentes_General_SIGE
!theme plain
title Sistema Integral de Gestión Educativa - Diagrama de Componentes

package "Frontend (Presentación)" {
    component [Login] as Login
    component [Dashboard] as Dashboard
    component [Gestión Estudiantes] as GEstudiantes
    component [Gestión Profesores] as GProfesores
    component [Sistema Notas] as GNotas
    component [Llamados Atención] as GLlamados
    component [Horarios] as GHorarios
    component [Reportes] as GReportes
}

package "Backend (Lógica de Negocio)" {
    component [Servicio Autenticación] as ServAuth
    component [Servicio Estudiantes] as ServEst
    component [Servicio Profesores] as ServProf
    component [Servicio Notas] as ServNotas
    component [Servicio Llamados] as ServLlamados
    component [Servicio Cursos] as ServCursos
    component [Servicio Reportes] as ServReportes
}

package "Capa de Datos" {
    component [Estudiante Mapper] as EstMapper
    component [Profesor Mapper] as ProfMapper
    component [Nota Mapper] as NotaMapper
    component [Llamado Mapper] as LlamadoMapper
    component [Curso Mapper] as CursoMapper
    component [Database Connection] as DBConn
}

package "Base de Datos" {
    database "MySQL" {
        [estudiantes] as TEstudiantes
        [profesores] as TProfesores
        [notas] as TNotas
        [llamados_atencion] as TLlamados
        [cursos] as TCursos
        [materias] as TMaterias
        [usuarios] as TUsuarios
    }
}

package "Servicios Externos" {
    component [Generador PDF] as PDFGen
    component [Exportador Excel] as ExcelExp
    component [Sistema Logs] as Logs
    component [Cache Redis] as Cache
}

' Conexiones principales
Login --> ServAuth
Dashboard --> ServEst
Dashboard --> ServNotas
Dashboard --> ServLlamados

GEstudiantes --> ServEst
GProfesores --> ServProf
GNotas --> ServNotas
GLlamados --> ServLlamados
GHorarios --> ServCursos
GReportes --> ServReportes

' Servicios a Mappers
ServEst --> EstMapper
ServProf --> ProfMapper
ServNotas --> NotaMapper
ServLlamados --> LlamadoMapper
ServCursos --> CursoMapper

' Mappers a Base de Datos
EstMapper --> DBConn
ProfMapper --> DBConn
NotaMapper --> DBConn
LlamadoMapper --> DBConn
CursoMapper --> DBConn

DBConn --> TEstudiantes
DBConn --> TProfesores
DBConn --> TNotas
DBConn --> TLlamados
DBConn --> TCursos
DBConn --> TMaterias
DBConn --> TUsuarios

' Servicios externos
ServReportes --> PDFGen
ServReportes --> ExcelExp
ServAuth --> Logs
ServEst --> Cache
ServNotas --> Cache

' Notas sobre la arquitectura
note right of Login : "Punto de entrada único\nal sistema"
note right of ServAuth : "Centraliza autenticación\ny autorización"
note right of ServEst : "Lógica de negocio\npara estudiantes"
note right of EstMapper : "Abstrae persistencia\nde estudiantes"
note right of DBConn : "Conexión única a BD\n(Patrón Singleton)"
note right of Cache : "Mejora performance\npara consultas frecuentes"

' Beneficios de la arquitectura
note bottom : "BENEFICIOS:\n• Separación clara de responsabilidades\n• Bajo acoplamiento entre componentes\n• Alta cohesión dentro de cada componente\n• Fácil testing y mantenimiento\n• Escalabilidad horizontal\n• Reutilización de componentes"

@enduml
